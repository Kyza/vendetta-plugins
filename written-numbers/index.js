(function(p,i,s,F,R,l,B,g,A,_,v){"use strict";function d(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];const e=a.map(function(r){switch(typeof r){case"string":return r;case"object":return JSON.stringify(r)}return r?.toString()}).join(" ");v.showToast(e,l.getAssetIDByName("ic_badge_staff")),_.logger.log(...a)}const P=/^-?(?:\d+\.?|\.\d+|\d+\.\d+)$/,h=new Map;async function m(t){let{number:a,options:n,languageOptions:e}=t;if(n??={language:"en"},e??={},h.has(a))return h.get(a);if(!P.test(a))try{a=new Function(`return ${a}`)()}catch(o){return d(o),"NotANumber"}const r=await fetch("https://numbers.kyza.net/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({number:a,options:n,languageOptions:e})}).then(function(o){return o.text()});return h.set(a,r),r}const{canUseIncreasedMessageLength:$}=g.findByProps("canUseIncreasedMessageLength"),z=g.findByProps("sendMessage","receiveMessage"),U=g.findByProps("uploadLocalFiles");let I,S;function T(t,a){return t.some(function(n){let[e,r]=n;return e<=a&&a<=r})}function W(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Y(t,a,n,e){return t.substring(0,a)+e+t.substring(n)}var u;(function(t){t[t.PLAIN=0]="PLAIN",t[t.SYNTAX=1]="SYNTAX"})(u||(u={}));const f=/(?:(?:(?<!\\)```(?:.|\n)+?(?<!\\)```)|(?:(?<!\\)`[^`]+?`))/g,y=/(([-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))|(?:(?<!\\)<.+?>))/gi,b=/(\\)?\b(?<!n)-?(\d+\.|\d+|\.\d+|\d+\.\d+)(?!;;)\b/gi,x=/(\\)?\b((n)(.+?);;)/gi;async function N(t){const a=t,n=[];let e;for(;(e=f.exec(t))!==null;)e.index===f.lastIndex&&f.lastIndex++,n.push([e.index,e.index+e[0].length-1]);for(e=null;(e=y.exec(t))!==null;)e.index===y.lastIndex&&y.lastIndex++,n.push([e.index,e.index+e[0].length-1]);const r=[];if(i.storage.replace.syntax)for(e=null;(e=x.exec(t))!==null;)e.index===x.lastIndex&&x.lastIndex++,T(n,e.index)||(r.push({type:u.SYNTAX,match:e,capitalize:e[3]==="N",words:e[1]==="\\"?e[2]:m({number:e[4]})}),n.push([e.index,e.index+e[0].length-1]));if(i.storage.replace.all)for(e=null;(e=b.exec(t))!==null;)e.index===b.lastIndex&&b.lastIndex++,T(n,e.index)||r.push({type:u.PLAIN,match:e,capitalize:!1,words:e[1]==="\\"?e[2]:m({number:e[2]})});r.sort(function(o,c){return o.match.index>c.match.index?-1:o.match.index<c.match.index?1:0});for(const o of r){let c=await o.words;o.capitalize&&(c=W(c)),t=Y(t,o.match.index,o.match.index+o.match[0].length,c)}return t.length>2e3&&!$()||t.length>4e3?(d("The transformed message is too long."),a):t}function j(){k(),I=A.instead("sendMessage",z,async function(t,a){const n=JSON.parse(JSON.stringify(t));try{n[1].content=await N(n[1].content)}catch(e){d(e.stack)}a(...n)}),S=A.instead("uploadLocalFiles",U,async function(t,a){try{t[0].parsedMessage.content=await N(t[0].parsedMessage.content)}catch(n){d(n.stack)}a(...t)})}function k(){I?.(),S?.()}const{FormSection:C,FormDivider:J,FormRow:L,FormSwitchRow:D,FormText:V}=B.Forms,O=s.stylesheet.createThemedStyleSheet({view:{flex:1},codeblock:{fontFamily:s.constants.Fonts.CODE_SEMIBOLD,includeFontPadding:!1,fontSize:12,backgroundColor:R.semanticColors.BACKGROUND_SECONDARY,marginLeft:15,marginRight:15,paddingTop:8,paddingBottom:6,paddingLeft:10,paddingRight:10,borderRadius:5,borderWidth:2,borderColor:R.semanticColors.BACKGROUND_SECONDARY_ALT}});function q(){const[t,a]=s.React.useState("Loading...");return s.React.useEffect(async function(){a(await N(`\\3001 -> 3001

\\n3001;; -> n3001;;
\\N3001;; -> N3001;;

\\n10n**100n;; -> n10n**100n;;

\\\\3001 -> \\3001
\\\\n3001;; -> \\n3001;;

\`3001\` -> \`3001\`

\`\`\`
3001
\`\`\`
|
V
\`\`\`
3001
\`\`\`

https://link.tld/3001 -> https://link.tld/3001
<file:///path/3001> -> <file:///path/3001>`))},[]),F.useProxy(i.storage),s.React.createElement(s.ReactNative.ScrollView,{style:O.view},s.React.createElement(C,{title:"Usage",titleStyleType:"no_border"},s.React.createElement(V,{style:O.codeblock},t)),s.React.createElement(C,{title:"Message Text Replacement",titleStyleType:"no_border"},s.React.createElement(D,{label:"All Numbers",subLabel:"Replaces all numbers in your messages like `3001`.",leading:s.React.createElement(L.Icon,{source:l.getAssetIDByName(i.storage.replace.all?"ic_check_24px":"ic_close_24px")}),value:i.storage.replace.all,onValueChange:function(n){i.storage.replace.all=n}}),s.React.createElement(J,null),s.React.createElement(D,{label:"Syntax Numbers",subLabel:"Replaces numbers in your messages with special syntax like `n3001;;`.",leading:s.React.createElement(L.Icon,{source:l.getAssetIDByName(i.storage.replace.syntax?"ic_check_24px":"ic_close_24px")}),value:i.storage.replace.syntax,onValueChange:function(n){i.storage.replace.syntax=n}})))}function w(t,a,n){return t.find(function(e){return e.name===a})?.value??n}let E;function X(){M(),E=_.commands.registerCommand({name:"written number",displayName:"written number",applicationId:"written-numbers",description:"Makes numbers written.",displayDescription:"Makes numbers written.",type:1,inputType:1,options:[{name:"number",displayName:"number",description:"The number to convert.",displayDescription:"The number to convert.",type:3,required:!0},{name:"commas",displayName:"commas",description:"Whether or not to use commas.",displayDescription:"Whether or not to use commas.",type:5,required:!1},{name:"hundred_and",displayName:"hundred_and",description:"Whether or not to use and after hundreds.",displayDescription:"Whether or not to use and after hundreds.",type:5,required:!1}],async execute(t,a){let n=w(t,"number","");const e=w(t,"commas",!1),r=w(t,"hundred_and",!1),o=await m({number:n,languageOptions:{commas:e,hundredAnd:r}});s.clipboard.setString(o),v.showToast("Copied number to clipboard.",l.getAssetIDByName("toast_copy_link"))}})}function M(){E?.()}i.storage.replace??={all:!0,syntax:!0},i.storage.replace.all=i.storage.replace.all!=null?i.storage.replace.all:i.storage.replace.basic;var Z={onLoad:function(){X(),j()},onUnload:function(){M(),k()},settings:q};return p.default=Z,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.plugin,vendetta.metro.common,vendetta.storage,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.metro,vendetta.patcher,vendetta,vendetta.ui.toasts);
